as yet unclassified
test
	| apiMethods apiSpec sourceTemplate methodStrings source sourceHeader |

	apiSpec := (Json readFrom:
		(FileStream readOnlyFileNamed: '/home/leo/Uni/Master/PX/godot-plugin/plugin/godot-headers/gdnative_api.json')) core.
	apiMethods := OrderedCollection new.
	[apiSpec notNil] whileTrue: [
		apiMethods addAll: apiSpec api.
		apiSpec := apiSpec at: 'next'].
	
	sourceTemplate := '{1} {2}({3}) \{
	{4}api->{2}({5});
\}'.
	sourceHeader := '// NOTE: This file was autogenerated. Any modifications to it may be lost.
	
#include <gdnative_api_struct.gen.h>
#include "apiStructDecl.h"'.

	methodStrings := apiMethods collect: [:method |
		sourceTemplate format: {
			method return_type.
			method name.
			(method arguments collect: [:arg | arg first, ' ', arg second]) joinSeparatedBy: ', '.
			method return_type = 'void' ifTrue: [''] ifFalse: ['return '].
			(method arguments collect: [:arg | arg second]) joinSeparatedBy: ', '
		}].
	
	source := sourceHeader, String crlfcrlf, (methodStrings joinSeparatedBy: String crlfcrlf).
	
	FileStream forceNewFileNamed: 'gdnativeSqueakBindings.gen.cpp' do: [:stream | stream nextPutAll: source withUnixLineEndings utf8Encoded]